<!DOCTYPE html>

<!-- Copyright (C) 2021 Version 2 Software, LLC. All rights reserved. -->

<html>
<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="../css/events.css">
    <link rel="stylesheet" type="text/css"  href="../lib/jquery.alerts-1.1/jquery.alerts.css">

    <title>Log</title>
</head>

<body>
    <div id="events">
        Time Period:
        <select id="time-period" @change="selectPeriod">
            <option value="today">Today</option>
            <option value="week">This Week</option>
            <option value="month">This Month</option>
            <option value="yesterday">Yesterday</option>
            <option value="lastweek">Last Week</option>
            <option value="lastmonth">Last Month</option>
        </select>

        <button id="print-event" @click="print">Printable Page</button>

        <br>
        <br>

        <div class="center" v-cloak>Completed: {{totalCount}}</div>

        <div id="completed-div">
            <table id="completed-table" v-cloak>
                <tr v-for="sr in summaryRows">
                    <td width="70%">{{sr.taskDescription}}</td>
                    <td width="30%">{{sr.count}}</td>
                </tr>
            </table>
        </div>

        <div class="center">Events</div>

        <div id="log-div">
            <table id="log-table" v-cloak>
                <tr v-for="d in docs">
                    <td width="30%">{{dateFormat(new Date(d.eventTimestamp), "yyyy-mm-dd h:MM TT")}}</td>
                    <td width="45%">{{d.description}}</td>
                    <td width="20%" :style="{ color: textColor(d) }" >{{d.eventType}}</td>
                    <td width="5%"><button @click="editEvent(d)">edit</button></td>
                    <td width="5%"><button @click="deleteEvent(d)">del</button></td>
                </tr>
            </table>
        </div>

    </div>

    <!-- This enables jquery to work -->
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>

    <script src="../lib/jquery.min.js"></script>
    <script src="../lib/jquery.alerts-1.1/jquery.alerts.js"></script>
    <script src="../lib/date.format.js"></script>
    <script src="../lib/vue.js"></script>
    <script src="../controller/events.js"></script>
</body>
</html>
